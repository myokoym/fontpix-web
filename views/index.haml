-# -*- coding: utf-8 -*-
!!!
%html
  %head
    %meta{"http-equiv" => "content-type", :content => "text/html; charset=utf-8"}
    %meta{"http-equiv" => "content-style-type", :content => "text/css"}
    %meta{"http-equiv" => "content-script-type", :content => "text/javascript"}
    %title 短文/短歌の画像作成サービス
  %body
    %h1 短文/短歌の画像作成サービス

    Powered by
    %a{:href => "http://www.ruby-lang.org/ja/"} Ruby
    ,
    %a{:href => "http://www.sinatrarb.com/intro-jp.html"} Sinatra
    ,
    %a{:href => "http://haml-lang.com/"} Haml
    ,
    %a{:href => "https://github.com/rcairo/rcairo"} rcairo
    and
    %a{:href => "http://ruby-gnome2.sourceforge.jp/"} Ruby/Pango

    %form{:action => url("/", false, true), :method => "post"}
      %p
        %textarea{:id => "text", :name => "text", :cols => 50, :rows => 10}= @params[:text]
      %p
        %select{:name => "font"}
          - @fonts.each do |key, name|
            - hash = {:value => key}
            - hash[:selected] = "selected" if key == @params[:font]
            %option{hash}= name
      %p
        出力ファイル名（省略可）
        %br
        %input{:type => "text", :name => "filename", :size => 30, :value => @params[:filename]}
      %p
        %input{:type => "submit"}
    %p
      - if @download_url
        download URL
        %br
        %a{:href => @download_url, :target => "_blank"}= @download_url
